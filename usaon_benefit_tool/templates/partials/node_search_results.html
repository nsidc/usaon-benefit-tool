{% if nodes %}
  <div class="search-results-container">
    <div class="mb-2">
      <small class="text-muted">
        {% if search_query %}
          {{ nodes|length }} result(s) for "{{ search_query }}"
        {% else %}
          {{ nodes|length }} available object(s)
        {% endif %}
      </small>
    </div>
    
    <div class="list-group" style="max-height: 300px; overflow-y: auto;">
      {% for node in nodes %}
        <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-start">
          <div class="flex-grow-1">
            <h6 class="mb-1">{{ node.title }}</h6>
            {% if node.short_name %}
              <small class="text-muted">{{ node.short_name }}</small>
            {% endif %}
            {% if node.description %}
              <p class="mb-1 small">{{ node.description[:100] }}{% if node.description|length > 100 %}...{% endif %}</p>
            {% endif %}
          </div>
          <button type="button" 
                  class="btn btn-sm btn-primary"
                  data-id="{{ node.id }}" data-title="{{ node.title|escapejs }}">
            Add
          </button>
        </div>
      {% endfor %}
    </div>
  </div>
{% else %}
  <div class="alert alert-info">
    {% if search_query %}
      No objects found matching "{{ search_query }}".
      <br><small>Try adjusting your search terms.</small>
    {% else %}
      No objects of this type are available for this assessment.
      <br><small>All objects may already be added.</small>
    {% endif %}
  </div>
{% endif %}
